# ShareIt - Сервис для шеринга вещей      
**Общее описание сервиса** <br /> 
Сервис для шеринга вещей. Пользователи имеют возможность размещать вещи, которыми они готовы поделиться, а также находить нужные вещи через поиск и брать их на время в аренду. <br /> 
Сервис позволяет бронировать вещь на определённые даты. Владелец вещи обязательно должен подтвердить бронирование.  На время бронирования доступ к такой вещи закрывается от других желающих. После того как вещь возвращена, у пользователя, который её арендовал, естьь возможность оставить отзыв.Если нужной вещи на сервисе нет, у пользователей есть возможность оставлять запросы на эту вещь. <br />  
В ответ на запрос другие пользовали могут добавить нужную вещь. Пользователи также могут оставлять запросы на необходимые им вещи. Предусмотрена возможность оставить отзыв к вещам. <br />  
Часть приложения, с которой непосредственно работают пользователи, вынесена в отдельный сервис (gateway). В нём, в том числе, выполняется вся валидация запросов. После валидации в gateway запрос отправляется основному сервису, который включает в себя всю бизнес-логику и обращается к базе данных.  <br /> 
Сервисы общаются друг с другом через RestTemplate. <br /> 

**Стек технологий:** <br /> 
Java 11, Spring Boot 2.7.9, Maven, Hibernate, Mockito, JUnit4, Lombok, PostgreSQL, Docker <br /> 

**Инструкция по развертыванию:** <br /> 
Версия JDK: Amazon Corretto 11      
Приложение запускается через Docker (сервисы shareIt-server, shareIt-gateway и база данных PostgreSQL запускаются в отдельном Docker-контейнере каждый).         
   
1. ```mvn package``` - создание jar-файлов        
2. ```docker-compose up``` - команда для запуска приложения (запускать из папки проекта). Конфигурация описана в файле [docker-compose.yml ](https://github.com/Stormblessed3D/java-shareit/blob/main/docker-compose.yml)             

**Реализована следующая функциональность**:      

***Пользователи*** <br /> 
**1. Получение списка пользователей** <br /> 

```
GET /users
```
**2. Получение пользователя по id** <br /> 

```
GET /users/{userId}
```
**3. Создание пользователя** <br /> 

```
POST /users
```
**4. Обновление пользователя** <br /> 

```
PATCH /users/{userId}
```
**5. Удаление пользователя** <br /> 

```
DELETE /users/{userId}
```
    
***Вещи*** <br /> 
**1. Получение списка вещей** <br /> 
Просмотр владельцем списка всех его вещей с указанием id, названия, описания и статуса доступности. Идентификатор владельца указывается в обязательном заголовке X-Sharer-User-Id.
```
GET /items
```
**2. Получение вещи по id** <br /> 
Просмотр информации о конкретной вещи по её идентификатору. Информацию о вещи может просмотреть любой пользователь. Идентификатор пользователя указывается в обязательном заголовке X-Sharer-User-Id.
```
GET /items/{itemId}
```
**3. Поиск вещи** <br /> 
Поиск вещи потенциальным арендатором. Пользователь передаёт в строке запроса текст, и система ищет вещи, содержащие этот текст в названии или описании. Поиск возвращает только доступные для аренды вещи.
```
GET /items/search?text={text}
```
**4. Создание вещи** <br /> 
Пользователь, который добавляет в приложение новую вещь, будет считаться ее владельцем. Идентификатор пользователя указывается в обязательном заголовке X-Sharer-User-Id. При добавлении вещи обязательно указывается название, описание и статусу доступности (доступна ли она для аренды).
```
POST /items
```
**5. Обновление вещи** <br /> 
Редактировать вещь может только её владелец. Идентификатор владельца указывается в обязательном заголовке X-Sharer-User-Id. Изменить можно название, описание и статус доступа к аренде. 
```
PATCH /items/{itemId}
```
**6. Удаление вещи** <br /> 
Удалить вещь может только её владелец. Идентификатор владельца указывается в обязательном заголовке X-Sharer-User-Id.
```
DELETE /items/{itemId}
```
**7. Создание отзыва на забронированную вещь** <br /> 
```
POST /items/{itemId}/comment
```
***Бронирования*** <br /> 
**1. Получение списка бронирований пользователем** <br /> 
```
GET /bookings
```
**2. Создание бронирования** <br /> 
```
POST /bookings
```
**3. Подтверждение бронирования владельцем вещи** <br /> 
```
PATCH /bookings/{bookingId}
```
**4. Получение бронирования** <br /> 
```
GET /bookings/{bookingId}
```
**5. Получение списка бронирований владельцем вещи** <br /> 
```
GET /bookings/owner
```

***Запросы на вещи*** <br /> 
**1. Получение списка запросов** <br /> 
```
GET /requests
```
**2. Создание запроса** <br /> 
```
POST /requests
```
**3. Получение запроса** <br /> 
```
GET /requests/{requestId}
```
**4. Получение списка запросов с использованием пагинации** <br /> 
```
GET /requests/all
```